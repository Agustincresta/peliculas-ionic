(self.webpackChunkpeliculasApp=self.webpackChunkpeliculasApp||[]).push([[8453],{5392:(e,t,i)=>{"use strict";i.d(t,{L:()=>f});var o=i(639),r=i(4550),n=i(3083),s=i(9324),a=i(8583),c=i(646);function l(e,t){if(1&e&&(o._UZ(0,"img",21),o.ALo(1,"imagen")),2&e){const e=o.oxw();o.s9C("src",o.lcZ(1,1,e.pelicula.backdrop_path),o.LSH)}}function u(e,t){if(1&e&&(o._UZ(0,"img",22),o.ALo(1,"imagen")),2&e){const e=o.oxw();o.Q6J("src",o.lcZ(1,1,e.pelicula.poster_path),o.LSH)}}function g(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"ion-label",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().ocultar=5e3}),o._uU(1,"leer mas!"),o.qZA()}}function p(e,t){if(1&e&&(o.TgZ(0,"ion-chip",24),o.TgZ(1,"ion-label"),o._uU(2),o.qZA(),o.qZA()),2&e){const e=t.$implicit;o.xp6(2),o.Oqu(e.name)}}function d(e,t){1&e&&o._UZ(0,"img",28)}function h(e,t){if(1&e&&(o._UZ(0,"img",22),o.ALo(1,"imagen")),2&e){const e=o.oxw().$implicit;o.Q6J("src",o.lcZ(1,1,e.profile_path),o.LSH)}}function Z(e,t){if(1&e&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-card",25),o.YNc(2,d,1,0,"img",26),o.YNc(3,h,2,3,"img",5),o.TgZ(4,"ion-card-content"),o.TgZ(5,"ion-label",27),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit;o.xp6(2),o.Q6J("ngIf",!e.profile_path),o.xp6(1),o.Q6J("ngIf",e.profile_path),o.xp6(3),o.Oqu(e.name)}}let f=(()=>{class e{constructor(e,t,i){this.moviesService=e,this.modalController=t,this.dataLocalService=i,this.pelicula={},this.ocultar=150,this.estrella="star-outline",this.actores=[],this.slideOptActores={slidesPerView:3.3,freeMode:!0,spaceBetween:-5}}ngOnInit(){this.dataLocalService.existePelicula(this.id).then(e=>this.estrella=e?"star":"star-outline"),this.moviesService.getPeliculaDetalle(this.id).subscribe(e=>{this.pelicula=e}),this.moviesService.getActoresPelicula(this.id).subscribe(e=>{this.actores=e.cast})}regresar(){this.modalController.dismiss()}favorito(){this.dataLocalService.guardarPelicula(this.pelicula).then(e=>this.estrella=e?"star":"star-outline")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.I),o.Y36(n.IN),o.Y36(s.q))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-detalle"]],inputs:{id:"id"},decls:52,vars:15,consts:[[1,"titulo"],["class","imagen-principal","alt","",3,"src",4,"ngIf"],["fixed",""],["size","4",1,"poster-detalle-sobre"],[1,"poster","imagenpeli"],[3,"src",4,"ngIf"],["size","8",1,"columna-secundaria"],["slot","start","name","thumbs-up","color","primary"],["slot","end","color","primary"],["slot","start","name","people-outline","color","primary"],["size","12"],["color","tertiary",3,"click",4,"ngIf"],["outline","","color","success",4,"ngFor","ngForOf"],[3,"options"],[4,"ngFor","ngForOf"],["no-border",""],["slot","start"],[3,"click"],["slot","start","name","arrow-back"],["slot","end"],["slot","end",3,"name"],["alt","",1,"imagen-principal",3,"src"],[3,"src"],["color","tertiary",3,"click"],["outline","","color","success"],[1,"card-actor"],["src","./assets/no-avatar.jpg",4,"ngIf"],[1,"actor-name"],["src","./assets/no-avatar.jpg"]],template:function(e,t){1&e&&(o.TgZ(0,"ion-content"),o.TgZ(1,"ion-label",0),o.TgZ(2,"h1"),o._uU(3),o.qZA(),o.qZA(),o.YNc(4,l,2,3,"img",1),o.TgZ(5,"ion-grid",2),o.TgZ(6,"ion-row"),o.TgZ(7,"ion-col",3),o.TgZ(8,"ion-card",4),o.YNc(9,u,2,3,"img",5),o.qZA(),o.qZA(),o.TgZ(10,"ion-col",6),o.TgZ(11,"ion-item"),o._UZ(12,"ion-icon",7),o.TgZ(13,"ion-label"),o._uU(14,"Rating"),o.qZA(),o.TgZ(15,"ion-note",8),o._uU(16),o.qZA(),o.qZA(),o.TgZ(17,"ion-item"),o._UZ(18,"ion-icon",9),o.TgZ(19,"ion-label"),o._uU(20,"Number of votes"),o.qZA(),o.TgZ(21,"ion-note",8),o._uU(22),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"ion-grid",2),o.TgZ(24,"ion-row"),o.TgZ(25,"ion-col",10),o.TgZ(26,"ion-label"),o._uU(27),o.ALo(28,"slice"),o.qZA(),o.YNc(29,g,2,0,"ion-label",11),o.qZA(),o.qZA(),o.TgZ(30,"ion-row"),o.TgZ(31,"ion-col",10),o.YNc(32,p,3,1,"ion-chip",12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(33,"ion-grid",2),o.TgZ(34,"ion-row"),o.TgZ(35,"ion-col"),o.TgZ(36,"ion-label"),o._uU(37,"Actores"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(38,"ion-slides",13),o.YNc(39,Z,7,3,"ion-slide",14),o.qZA(),o.qZA(),o.TgZ(40,"ion-footer",15),o.TgZ(41,"ion-toolbar"),o.TgZ(42,"ion-buttons",16),o.TgZ(43,"ion-button",17),o.NdJ("click",function(){return t.regresar()}),o._UZ(44,"ion-icon",18),o.TgZ(45,"ion-label"),o._uU(46,"Regresar"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(47,"ion-buttons",19),o.TgZ(48,"ion-button",17),o.NdJ("click",function(){return t.favorito()}),o._UZ(49,"ion-icon",20),o.TgZ(50,"ion-label"),o._uU(51,"Favorito"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(t.pelicula.title),o.xp6(1),o.Q6J("ngIf",t.pelicula.backdrop_path),o.xp6(5),o.Q6J("ngIf",t.pelicula.poster_path),o.xp6(7),o.hij(" ",t.pelicula.vote_average," "),o.xp6(6),o.hij(" ",t.pelicula.vote_count," "),o.xp6(5),o.hij("",o.Dn7(28,11,t.pelicula.overview,0,t.ocultar),"... "),o.xp6(2),o.Q6J("ngIf",5e3!=t.ocultar),o.xp6(3),o.Q6J("ngForOf",t.pelicula.genres),o.xp6(6),o.Q6J("options",t.slideOptActores),o.xp6(1),o.Q6J("ngForOf",t.actores),o.xp6(10),o.Q6J("name",t.estrella))},directives:[n.W2,n.Q$,a.O5,n.jY,n.Nd,n.wI,n.PM,n.Ie,n.gu,n.uN,a.sg,n.Hr,n.fr,n.sr,n.Sm,n.YG,n.hM,n.A$,n.FN],pipes:[a.OU,c.$],styles:['.poster-detalle-sobre[_ngcontent-%COMP%]{position:relative;top:-75px;left:-10px;margin-bottom:-75px}.titulo[_ngcontent-%COMP%]{width:100%;position:absolute;color:#fff;background-color:red;padding:5px 5px 40px;background:linear-gradient(180deg,#000000a6 0,#0000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a6000000",endColorstr="#00000000",GradientType=0)}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;top:28px;left:5px}.imagen-principal[_ngcontent-%COMP%]{width:100%}.card-actor[_ngcontent-%COMP%]{--ion-background-color:#071927;border:.01px solid #00707470}.card-actor[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:5px}ion-grid[_ngcontent-%COMP%]{box-sizing:unset!important}.columna-secundaria[_ngcontent-%COMP%]{padding:0}.columna-secundaria[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--ion-background-color:#071927}ion-toolbar[_ngcontent-%COMP%]{color:#007074}']}),e})()},581:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var o=i(8583),r=i(665),n=i(3083),s=i(639);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,r.u5,n.Pc]]}),e})()},646:(e,t,i)=>{"use strict";i.d(t,{$:()=>s});var o=i(2340),r=i(639);const n=o.N.imgPath;let s=(()=>{class e{transform(e,t="w500"){return e?`${n}/${t}${e}`:"./assets/no-image-banner.jpg"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"imagen",type:e,pure:!0}),e})()},5503:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var o=i(8583),r=i(639);let n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez]]}),e})()},9324:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var o=i(4762),r=i(639),n=i(1628),s=i(3083);let a=(()=>{class e{constructor(e,t){this.storage=e,this.toastController=t,this.peliculas=[],this._storage=null,this.cargarPeliculas()}presentToast(e){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:1500,position:"top"})).present()})}guardarPelicula(e){return(0,o.mG)(this,void 0,void 0,function*(){const t=this.peliculas.find(t=>t.title===e.title);let i="";return t?(this.peliculas=this.peliculas.filter(t=>t.title!=e.title),this._storage.set("favoritos",this.peliculas),i="Removido de favoritos"):(this.peliculas.unshift(e),this._storage.set("favoritos",this.peliculas),i="Agregado a favoritos"),this.presentToast(i),!t})}cargarPeliculas(){return(0,o.mG)(this,void 0,void 0,function*(){let e=yield this.storage.create();this._storage=e;const t=yield this._storage.get("favoritos");return t&&(this.peliculas=t),this.peliculas})}existePelicula(e){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.cargarPeliculas(),!!this.peliculas.find(t=>t.id===e)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.K),r.LFG(s.yF))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4550:(e,t,i)=>{"use strict";i.d(t,{I:()=>c});var o=i(2340),r=i(639),n=i(1841);const s=o.N.url,a=o.N.apiKey;let c=(()=>{class e{constructor(e){this.http=e,this.popularesPage=0,this.generos=[]}ejecutarQuery(e){return e=s+e,this.http.get(e+=`&api_key=${a}&language=es&include_image_language=es`)}getPopulares(){return this.popularesPage++,this.ejecutarQuery(`/discover/movie?sort_by=popularity.desc&page=${this.popularesPage}`)}getFeature(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),i=e.getMonth()+1;let o;o=i<10?"0"+i:i;const r=`${e.getFullYear()}-${o}-01`,n=`${e.getFullYear()}-${o}-${t}`;return this.ejecutarQuery(`/discover/movie?primary_release_date.gte=${r}&primary_release_date.lte=${n}`)}getPeliculaDetalle(e){return this.ejecutarQuery(`/movie/${e}?a=1`)}getActoresPelicula(e){return this.ejecutarQuery(`/movie/${e}/credits?a=1`)}buscarPeliculas(e){return this.ejecutarQuery(`/search/movie?query=${e}`)}cargarGeneros(){return new Promise(e=>{this.ejecutarQuery("/genre/movie/list?a=1").subscribe(t=>{this.generos=t.genres,e(this.generos)})})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4762:(e,t,i)=>{"use strict";function o(e,t,i,o){return new(i||(i=Promise))(function(r,n){function s(e){try{c(o.next(e))}catch(t){n(t)}}function a(e){try{c(o.throw(e))}catch(t){n(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})}i.d(t,{mG:()=>o})}}]);